(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{508:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/finalize",function(){return r(2649)}])},2649:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(4848),s=r(6540),i=r(6715),n=r(4493),o=r(4696),l=r(7787),c=r.n(l),_=r(3959),d=r.n(_),u=r(3368),g=r.n(u);let h=()=>{let{setAuthToken:e,userProfile:t}=(0,o.J)(),r=(0,i.useRouter)(),l=new n.A,[_,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),[w,x]=(0,s.useState)({length:!1,number:!1,uppercase:!1,lowercase:!1,special:!1}),b=e=>{let t={length:e.length>=8,number:/\d/.test(e),uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),special:/[!@#$%^&*(),.?":{}|<>]/.test(e)};return x(t),Object.values(t).every(Boolean)},v=async a=>{if(a.preventDefault(),m(null),!b(_)){m("Por favor, cumple con todos los requisitos de la contrase\xf1a");return}f(!0);try{if(!(null==t?void 0:t.id))throw Error("Profile ID not found");if(!_)throw Error("Password is required");let{accessToken:a}=await l.finalizeRegistrationWithPassword(t.email,_);e(a),r.push("/home")}catch(e){e instanceof Error&&m(e.message||"An error occurred"),r.push("/login")}finally{f(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g(),{children:(0,a.jsx)("title",{children:"Sellar"})}),(0,a.jsxs)("div",{className:c().registrationContainer,children:[(0,a.jsxs)("div",{className:c().welcomeSection,style:{margin:"4rem 4rem 4rem 4rem"},children:[(0,a.jsx)("h1",{className:c().title,style:{marginBottom:0},children:"Casi Listo"}),(0,a.jsx)("p",{className:c().subTitle,children:"Elige tu llave"})]}),(0,a.jsx)("div",{className:c().formWrapper,children:(0,a.jsxs)("form",{className:c().registrationForm,onSubmit:v,children:[(0,a.jsxs)("div",{className:d().solutionSection,children:[(0,a.jsx)("input",{type:"password",id:"password",value:_,onChange:e=>{let t=e.target.value;u(t),b(t)},required:!0,placeholder:"Contrase\xf1a",style:{width:"100%",maxWidth:"320px",padding:"1rem",background:"transparent",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary-color)",fontSize:"1rem",textAlign:"center"}}),(0,a.jsxs)("div",{className:d().solutionFeatures,children:[(0,a.jsx)("p",{style:{color:"var(--forth-color)",marginBottom:"1rem",fontSize:"1.1rem"},children:"Tu contrase\xf1a debe tener:"}),(0,a.jsx)("div",{className:d().feature,children:(0,a.jsx)("span",{className:w.length?"✓":"\xd7",children:"M\xednimo 8 caracteres"})}),(0,a.jsx)("div",{className:d().feature,children:(0,a.jsx)("span",{className:w.number?"✓":"\xd7",children:"Al menos un n\xfamero"})}),(0,a.jsx)("div",{className:d().feature,children:(0,a.jsx)("span",{className:w.uppercase?"✓":"\xd7",children:"Al menos una may\xfascula"})}),(0,a.jsx)("div",{className:d().feature,children:(0,a.jsx)("span",{className:w.lowercase?"✓":"\xd7",children:"Al menos una min\xfascula"})}),(0,a.jsx)("div",{className:d().feature,children:(0,a.jsxs)("span",{className:w.special?"✓":"\xd7",children:['Al menos un car\xe1cter especial (!@#$%^&*(),.?":',"|<>)"]})})]})]}),h&&(0,a.jsx)("div",{style:{color:"#ff4444",textAlign:"center",margin:"1rem 0",padding:"0.5rem",borderRadius:"4px",fontSize:"0.9rem"},children:h}),(0,a.jsx)("div",{className:c().buttonContainer,children:(0,a.jsx)("button",{type:"submit",className:c().submitButton,disabled:p,children:p?"Creando Perfil...":"Comienza"})})]})})]})]})}},4493:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(8291),s=r(9);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}async initialToken(){let e=await a.n.withRetry(()=>a.n.get("".concat(this.baseUrl,"auth/csrf-token")));(0,s.I)(e.csrfToken)}async profileExists(e){return await a.n.withRetry(()=>a.n.get("".concat(this.baseUrl,"auth/profile-exists"),{email:e}))}async previousState(e){let{counting_profile:t,counting_bfi:r,counting_product:s}=await a.n.withRetry(()=>a.n.get("".concat(this.baseUrl,"auth/previous-state"),{email:e}));return{profile:t,bfi:r,product:s}}async validatesPasswordExistance(e){return await a.n.withRetry(()=>a.n.get("".concat(this.baseUrl,"auth/password-existance"),{email:e}))}async login(e,t){return await a.n.withRetry(()=>a.n.post("".concat(this.baseUrl,"auth/login"),{email:e,password:t}))}async finalizeRegistrationWithPassword(e,t){return await a.n.withRetry(()=>a.n.post("".concat(this.baseUrl,"auth/finalize"),{email:e,password:t}))}constructor(){this.baseUrl="https://api.aleph-space.org/"}}i.instance=null},8291:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var a=r(9);class s{static async get(e,t){try{return(await a.A.get(e,{params:t})).data}catch(e){throw this.handleError(e),e}}static async post(e,t){try{return(await a.A.post(e,t)).data}catch(e){throw this.handleError(e),e}}static handleError(e){e.response?e.response.status:e.request}static async withRetry(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;for(let s=0;s<r;s++)try{return await e()}catch(e){if(t=e,s===r-1)break;await new Promise(e=>setTimeout(e,a))}throw t}}},9:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,I:()=>n});var a=r(4335);a.A.defaults.withCredentials=!0;let s=a.A.create({baseURL:"https://api.aleph-space.org/",withCredentials:!0,timeout:1e5,headers:{"Content-Type":"application/json"}}),i="",n=e=>{i=e};s.interceptors.request.use(e=>(i&&(e.headers=e.headers||{},e.headers["x-csrf-token"]=i),e));let o=s},3959:e=>{e.exports={landingContainer:"landing_landingContainer__6TnZb",fadeIn:"landing_fadeIn__kEgTC",glowPulse:"landing_glowPulse___rKCt",heroSection:"landing_heroSection__OoSxC",title:"landing_title__5CnSC",subTitle:"landing_subTitle__u_0Yq",heroQuestion:"landing_heroQuestion__h4Gcf",subHeroQuestion:"landing_subHeroQuestion__oOXib",characterSection:"landing_characterSection__MJytQ",characterCard:"landing_characterCard__1JBtW",obstaclesSection:"landing_obstaclesSection__EHJ12",obstaclesList:"landing_obstaclesList__mKhNq",obstacle:"landing_obstacle__sbsc8",obstacleIcon:"landing_obstacleIcon__JZ__o",visionSection:"landing_visionSection__n_cLe",visionText:"landing_visionText__0dQ9u",solutionSection:"landing_solutionSection__L9yPn",solutionFeatures:"landing_solutionFeatures__VWahW",feature:"landing_feature__1rsY0",featureIcon:"landing_featureIcon__AhkHa",ctaSection:"landing_ctaSection__72tAq",ctaText:"landing_ctaText__47D0Y",gothicText:"landing_gothicText__GY3Jw",calmText:"landing_calmText__fFg69",passwordForm:"landing_passwordForm__u_GFQ",formWrapper:"landing_formWrapper__K2MVn",formGroup:"landing_formGroup__c0Iyd",submitButton:"landing_submitButton__6XH0r",fixedImage:"landing_fixedImage__PWm9d"}},7787:e=>{e.exports={registrationContainer:"register_registrationContainer__xud9j",fadeIn:"register_fadeIn__MCMIf",glowPulse:"register_glowPulse__soi06",welcomeSection:"register_welcomeSection__TKAik",title:"register_title__b938m",subTitle:"register_subTitle__s93qV",gothicText:"register_gothicText__wJdNX",privacyNotice:"register_privacyNotice__SupXf",privacyTitle:"register_privacyTitle__5WP2F",privacyText:"register_privacyText__SzsBE",registrationForm:"register_registrationForm__l2wjX",formWrapper:"register_formWrapper____aH0",formGroup:"register_formGroup__CRiFZ",buttonContainer:"register_buttonContainer__8U_fQ",errorDisplay:"register_errorDisplay__3Rwne",submitButton:"register_submitButton__HiGI9",formFooter:"register_formFooter__3zRHz",calmText:"register_calmText__d81nQ",passwordRequirements:"register_passwordRequirements__hsDbN",valid:"register_valid__csMTK",invalid:"register_invalid__NkrBH"}}},e=>{var t=t=>e(e.s=t);e.O(0,[718,636,593,792],()=>t(508)),_N_E=e.O()}]);