(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{8051:(e,a,t)=>{"use strict";t.d(a,{n:()=>o});var s=t(4848);t(6540);let o=e=>{let{message:a}=e;return(0,s.jsx)("div",{className:"error-display",children:(0,s.jsx)("p",{className:"error-message",children:a})})}},6076:(e,a,t)=>{"use strict";t.d(a,{G:()=>i});var s=t(4848);t(6540);var o=t(9386),r=t.n(o);let i=e=>{let{message:a="Loading..."}=e;return(0,s.jsxs)("div",{style:{gap:"1rem",textAlign:"center"},children:[(0,s.jsx)("div",{className:r().loading}),a]})}},9502:(e,a,t)=>{"use strict";t.d(a,{A:()=>_});var s=t(4848),o=t(4696);class r{getState(){return this.state}setState(e){this.state={...this.state,...e}}async initializeQuestions(e,a){try{this.setState({isLoading:!0,error:null});let{question:t,options:s}=await a(e);this.setState({currentQuestion:t,currentOptions:s,isInitialized:!0,isLoading:!1})}catch(e){this.setState({error:e instanceof Error?e.message:"Failed to load initial question",isLoading:!1})}}async nextQuestionWithOptions(e,a,t){try{if(!a.currentQuestion)throw Error("Current question is null");this.setState({isLoading:!0,error:null});let s="PROFILE"===a.currentPhase?this.getNextQuestionId(a.currentQuestion.id,a.selectedAnswer||0):a.currentQuestion.id+1,{question:o,options:r}=await t(e,s);if(!o||!r)throw Error("Failed to load next question or options");this.setState({currentQuestion:o,currentOptions:r,isLoading:!1,selectedAnswer:null,otherText:void 0})}catch(e){this.setState({error:e instanceof Error?e.message:"Failed to load initial question",isLoading:!1})}}async submitAnswer(e,a,t,s,o){let{currentQuestion:r,selectedAnswer:i,otherText:n}=this.state;if(r&&null!==i)try{this.setState({isLoading:!0,error:null});let c=Array.isArray(i)?i:[i];o&&n&&r&&await o(e,r.variable,n),await a(e,r.variable,c),this.config.onAnswerSubmitted(r.variable,i),this.config.onProgressUpdate(),this.setState({currentProgress:t.get(s)}),this.setState({isLoading:!1,error:null})}catch(e){this.setState({error:e instanceof Error?e.message:"Failed to process answer",isLoading:!1})}}getNextQuestionId(e,a){let t=Number(e);switch(t){case 1:return Array.isArray(a)?a[0]+1:a+1;case 2:case 3:case 4:case 5:case 6:return 7;default:return t+1}}constructor(e){this.handleAnswerSelection=(e,a)=>{this.setState({selectedAnswer:e,otherText:a})},this.state=e.initialState,this.config=e}}let i={estudiar:["Nos dijeron: 'Estudia. Estudia m\xe1s. Estudia otra vez.' Nos lo dijeron durante a\xf1os, pero el caos sigue ah\xed.","\xbfY si te dijera que hay soluci\xf3n para este problema?","Imagina convertir la confusi\xf3n en un trampol\xedn hacia el autodominio. Nuestro enfoque con IA transforma esa energ\xeda en ventaja usando repetici\xf3n espaciada y est\xedmulos psicol\xf3gicos."],resaltar:["\xbfAcaso t\xfa resaltas, subrayas, resaltas, subrayas… y olvidas?","Considera modificar esto.","Tu mente te ha enga\xf1ado por a\xf1os, pero nuestro sistema de repetici\xf3n espaciada con IA te invita a dejar el subrayado y activar tu retenci\xf3n. El resultado: claridad y una sed de conocimiento que transformar\xe1 tu vida."],memorizar:["Reflexiona, \xbfhas estado memorizando a toda prisa en el corto plazo y luego olvidando?","Mu\xe9strame tu estrategia.","El m\xe9todo de acumular todo de una vez sabotea tu memoria. Nuestra soluci\xf3n: lecturas de 15 minutos, comprobaciones psicol\xf3gicas y cuestionarios espaciados que convierten el caos en autodominio y comprensi\xf3n."],aprendizaje:["Dijeron que aprender debe ser tranquilo y c\xf3modo… \xbfLo es?","Quiero saber m\xe1s.","El crecimiento mental surge de la tensi\xf3n saludable y el significado. Aleph te impulsa con preguntas como: '\xbfPor qu\xe9 importa? \xbfQui\xe9n se beneficia?' Deja la complacencia y enciende tu prop\xf3sito."],aburrimiento:["El aburrimiento es un estado propenso al fracaso, as\xed que dom\xednalo y convi\xe9rtelo en tu aliado.","Ens\xe9\xf1ame el m\xe9todo.","Usamos met\xe1foras, motivaci\xf3n externa y retroalimentaci\xf3n en tiempo real para convertir sesiones aburridas en emocionantes 'prop\xf3sitos'. Aprender puede ser liberador con nuestro m\xe9todo, probado estad\xedsticamente."],retencion:["\xbfSientes que tras leer cinco p\xe1ginas no recuerdas la mayor\xeda de las cosas?","Mu\xe9strame la t\xe9cnica.","Tu impotencia puede ser tu mayor arma si la controlas. Es la oportunidad para reutilizar conocimientos, recordarlos con cuestionarios y fortalecer tu creatividad en la memoria a corto y largo plazo."],proposito:["Dijeron que todo se trata de aprobar el examen o un proyecto acad\xe9mico… pero ese es el verdadero peligro.","Expl\xedcate, necesito entender m\xe1s.","Nuestro sistema te impulsa a dar significado a cada sesi\xf3n, transformando conocimiento fugaz en sabidur\xeda duradera. \xbfEl resultado? No solo apruebas, sino que superas tus l\xedmites creativos."],miedo:["\xbfQuieres silenciar la temida voz de 'Voy a fallar'? Sorpr\xe9ndela con intenci\xf3n parad\xf3jica.","Dime m\xe1s, por favor.","Incorporamos psicolog\xeda anal\xedtica y filosof\xeda, ense\xf1\xe1ndote a reconocer vac\xedos te\xf3ricos y a dise\xf1ar estrategias adaptadas a tu memoria, identificando el material que mejor retienes. La iron\xeda desarma antiguas ansiedades."],acumulacion:["Deja de acumular conocimiento que no usas y no sirve a la vida.","Dime c\xf3mo reorientar la b\xfasqueda.","Espacia tu pr\xe1ctica, recuerda activamente y usa nuestro Bot de An\xe1lisis de PDFs para eliminar el desorden mental. Cada nuevo tema encajar\xe1 como la pieza final de un rompecabezas gracias a nuestros algoritmos."],control:["\xbfCrees que lo tienes todo bajo control releyendo? No caigas en la soberbia y atr\xe9vete a descubrir lo contrario.","Explica tu idea.","Nuestra plataforma revela c\xf3mo la relectura por s\xed sola puede ser una cinta de correr ilusoria. Fragmentamos ese ciclo con cuestionarios guiados, mapas mentales e intervalos espaciados, llev\xe1ndote al gratificante impacto de superar tus propias expectativas."],objetivos:["Has estado persiguiendo tus objetivos como un h\xe1mster en una rueda, gastando energ\xeda valiosa que no te lleva a ning\xfan prop\xf3sito plausible.","Quiero reorganizarme para ser funcional y servir al bien com\xfan.","Y, \xbfsi decides bajar de la rueda para atraer tus sue\xf1os? Prep\xe1rate: esto no es lo que te han ense\xf1ado, pero es exactamente lo que necesitas."],recordar:["Cuando intentas recordar, tu informaci\xf3n vuelve parcialmente y desorganizada.","\xbfC\xf3mo lo supiste? Necesito orientaci\xf3n.","No es tu culpa, es cosa de tu cerebro. Si aceptas tus vac\xedos te\xf3ricos y decides actuar, podr\xe1s ser tu mejor versi\xf3n con una gran capacidad de retenci\xf3n. Todo depende de nuestros algoritmos de IA y tu decisi\xf3n de cambiar."],enfoque:["Has estado invirtiendo energ\xeda en resolver el problema equivocado de aprehensi\xf3n cognitiva todo este tiempo.","\xbfCu\xe1l es el problema? Quiero entender.","No importa cu\xe1nto estudies, sino cu\xe1nto no lo haces. Menos acumulaci\xf3n significa m\xe1s retenci\xf3n. Nuestros algoritmos de IA organizan la informaci\xf3n clave con cuestionarios guiados y pr\xe1cticas espaciadas para ayudarte a cumplir tus sue\xf1os."],distraccion:["Te han dicho que te concentres m\xe1s, pero \xbfy si la distracci\xf3n es la clave?","Parece parad\xf3jico, dime m\xe1s.","Tu cerebro busca novedad y rechaza la monoton\xeda. No luches contra el caos, \xfasalo a tu favor, como una planta que aprovecha cada rayo de luz para crecer."],sistema:["No eres perezoso, solo est\xe1s atrapado en un sistema que desconoce la realidad objetiva.","Quiero entender.","El problema son los m\xe9todos obsoletos. Con nuestros algoritmos de IA, optimizar\xe1s tu energ\xeda y desarrollar\xe1s recordaci\xf3n activa."],concentracion:["Has estado leyendo la misma frase una y otra vez, \xbfverdad?","Es curioso que sepas eso de m\xed, necesito cambiar.","Eso no es falta de concentraci\xf3n, es falta de t\xe9cnica y significado. \xbfY si cada lectura que hicieras te provocara la sensaci\xf3n de que importa y, posteriormente, pudieras aplicar lo aprendido? Imagina la diferencia."],velocidad:["Has estado intentando aprender m\xe1s r\xe1pido, pero \xbfy si la respuesta fuera ir m\xe1s lento?","Parece que te est\xe1s contradiciendo, sin embargo, cu\xe9ntame m\xe1s.","Acumular informaci\xf3n sin estrategia te deja estancado. Con pr\xe1ctica espaciada y enfoque, alcanzar\xe1s el dominio en tu \xe1rea y cumplir\xe1s tus sue\xf1os."],debilidades:["Has estado intentando superar tus debilidades, pero \xbfy si fueran tu mayor fortaleza?","Mu\xe9strame c\xf3mo mis debilidades se pueden transformar en fortalezas.","Las limitaciones en tu aprendizaje son oportunidades. Con nuestro perfilamiento psicol\xf3gico (BFI) basado en IA y modelos estad\xedsticos, te guiaremos para enfocar tu energ\xeda en un prop\xf3sito con resultados gratificantes."],trabajo:["Te han dicho que trabajes m\xe1s duro, pero \xbfy si trabajar de forma m\xe1s dura no fuera suficiente?","\xbfC\xf3mo as\xed? Si es lo que he tratado de hacer hasta ahora. Quiero saber m\xe1s, me intriga.","El trabajo es fuerza por distancia, pero desgastarte f\xedsicamente no tiene sentido si buscas una vida gratificante. El secreto es trabajar inteligentemente: con nuestros algoritmos de IA entender\xe1s tu entorno y crear\xe1s herramientas para simplificar el trabajo. Todo empieza rompiendo las reglas actuales."],reglas:["Te han dicho que sigas las reglas, pero \xbfy si las reglas son el problema?","\xbfDime un ejemplo de una regla que sea un problema a la vez para poder entenderte?","La b\xfasqueda de materia y energ\xeda, como dijo Einstein, muestra que son lo mismo. Consumir sin l\xedmite es visto como progreso, pero tambi\xe9n es un problema para la humanidad. Los avances ocurren al liberarte de sistemas que te frenan. \xbfListo para reescribir el guion del conocimiento?"],confusion:["Has estado persiguiendo la claridad, pero \xbfy si la confusi\xf3n es la clave?","No te entiendo, por favor expl\xedcame.","Reconocer que no podemos saberlo todo requiere valent\xeda. Buscar claridad en la ciencia enfoca tu energ\xeda en objetivos reales y sue\xf1os alcanzables. La claridad trae nuevos retos, pero con nuestros algoritmos de IA optimizar\xe1s tu energ\xeda, lograr\xe1s tus metas y emprender\xe1s nuevos proyectos. En el caos del no saber est\xe1 el descubrimiento. \xbfLo aceptar\xe1s?"],perfeccion:["Te han dicho que busques la perfecci\xf3n, pero \xbfy si la imperfecci\xf3n es tu superpoder?","Quiero entender.","Las grietas en tu proceso son oportunidades para crecer. Con el perfilamiento psicol\xf3gico (BFI) y nuestros algoritmos de IA, identificar\xe1s y abordar\xe1s esas grietas para desarrollar un proceso cognitivo efectivo y alineado al bien com\xfan."],cantidad:["Has estado intentando aprender todo, pero \xbfy si aprender menos es la respuesta?","Dime el secreto.","El secreto no est\xe1 en saberlo todo, sino en saber qu\xe9 es lo que realmente importa."],oportunidad:["Te han dicho que te mantengas en tu carril, pero \xbfy si la verdadera oportunidad est\xe1 fuera del camino conocido?","Quiero explorar.","El conocimiento m\xe1s valioso a menudo se encuentra donde nadie m\xe1s est\xe1 buscando."],presente:["Te han dicho que te enfoques en el futuro, pero \xbfy si el presente es todo lo que necesitas?","Mu\xe9strame c\xf3mo.","Transforma tu aprendizaje aprovechando el presente. El pasado y el futuro son abismos que no merecen tanta energ\xeda. Conc\xe9ntrate."],fracaso:["Te han dicho que evites el fracaso, pero \xbfy si el fracaso es el \xfanico camino hacia adelante?","Quiero entender.","Cada error es un paso m\xe1s cerca de la maestr\xeda, si act\xfaas para entenderlo y resolverlo."],eficiencia:["Te han dicho que trabajes m\xe1s duro, pero \xbfy si trabajar inteligentemente es el secreto?","Dime m\xe1s.","Los aprendices efectivos usan sus habilidades para crear sistemas que optimizan energ\xeda y trabajo, siempre orientados al bien com\xfan."],proceso:["Te han dicho que conf\xedes en el proceso, pero \xbfy si el proceso no es significativo estad\xedsticamente?","Quiero cambiar.","Es hora de dejar de seguir y empezar a aplicar un sistema de t\xe9cnicas de aprendizaje interrelacionadas que funcione para ti, t\xe9cnicas de aprendizaje respaldadas por la estad\xedstica."],limites:["Te han dicho que pienses fuera de la caja, pero \xbfy si la caja no existe?","Quiero descubrir.","Los l\xedmites que ves son ilusiones. La verdadera pregunta es: \xbfhasta d\xf3nde est\xe1s dispuesto a llegar?"],potencial:["Desbloquea tu potencial. Conquista tus desaf\xedos. Domina tus estudios.","Quiero empezar.","Nuestra plataforma de aprendizaje impulsada por IA est\xe1 aqu\xed para ayudarte."],esfuerzo:["Olvida el estudio interminable. Abraza el aprendizaje mientras valoras el esfuerzo.","Mu\xe9strame c\xf3mo.","Nuestro perfil psicol\xf3gico te guiar\xe1 hacia un objetivo acorde a tus intereses. Ver\xe1s que el esfuerzo ser\xe1 gratificante y progresivo, convirti\xe9ndose en un gimnasio cognitivo para construir tu mejor versi\xf3n."],comprension:["Deja atr\xe1s el frenes\xed de subrayar. Desbloquea una comprensi\xf3n real.","Quiero aprender.","Nuestro sistema transforma la forma en que aprendes para siempre."],memoria:["\xbfCansado de olvidar? Prep\xe1rate para recordar creativamente.","Necesito ayuda.","Experimenta el poder de la pr\xe1ctica de recuperaci\xf3n activa, para que, cuando quieras recordar algo objetivo a voluntad, la informaci\xf3n llegue de forma coherente y armonice con la realidad del entorno."],progreso:["Deja de luchar. Empieza a prosperar.","Quiero avanzar.","Nuestra plataforma impulsada por IA hace que aprender sea atractivo y efectivo."],exito:["Reimagina el aprendizaje. Redefine el \xe9xito.","Quiero m\xe1s.","Nuestro enfoque innovador te empodera para alcanzar tus metas."],viaje:["Aprender no deber\xeda ser una tarea. Deber\xeda ser un viaje.","Quiero comenzar.","\xdanete a nosotros en el camino hacia la maestr\xeda."],dominio:["Entiende a tu cerebro. Domina temas acordes con tu perfil psicol\xf3gico.","Quiero dominar.","Nuestra plataforma utiliza IA de vanguardia para un aprendizaje \xf3ptimo."],transformacion:["Transforma tus h\xe1bitos de estudio. Transforma tu vida.","Quiero transformarme.","Experimenta la diferencia por medio de la \xfatil herramienta Aleph."],entendimiento:["M\xe1s all\xe1 de la memorizaci\xf3n. Hacia una verdadera comprensi\xf3n.","Quiero entender.","Nuestro sistema fomenta una comprensi\xf3n profunda y una retenci\xf3n duradera."],instintos:["Te han dicho que conf\xedes en tus instintos, pero \xbfy si tus instintos est\xe1n saboteando tu \xe9xito?","\xbfC\xf3mo logro saber mis intereses?","La verdad sobre el aprendizaje podr\xeda ser lo opuesto a lo que siempre has cre\xeddo. Por eso es imperativo que culmines el proceso de perfilamiento psicol\xf3gico (BFI)."],preguntas:["Has estado persiguiendo respuestas, pero \xbfy si las preguntas son m\xe1s poderosas?","Quiero descubrir.","La pregunta correcta puede desbloquear m\xe1s de lo que mil respuestas podr\xedan. Usa la t\xe9cnica de la may\xe9utica a tu favor."],detalles:["Te han dicho que te enfoques en los detalles, pero \xbfy si est\xe1s perdiendo de vista el panorama general?","Mu\xe9strame m\xe1s.","A veces, las distracciones m\xe1s peque\xf1as esconden las mayores oportunidades."],errores:["Te han dicho que evites los errores, pero \xbfy si los errores son el \xfanico camino hacia adelante?","Quiero aprender.","Cada error es un paso m\xe1s cerca de la maestr\xeda si sabes c\xf3mo aprovecharlo."],constancia:["Te han dicho que seas constante, pero \xbfy si la inconsistencia es la clave del crecimiento?","Dime m\xe1s.","Romper el ritmo puede ser clave. Leer 100 hojas en un d\xeda es \xfatil, pero distribuirlas seg\xfan tus intereses y perfil psicol\xf3gico en varios d\xedas mejora la comprensi\xf3n. Esto se basa en la t\xe9cnica de pr\xe1ctica espaciada, respaldada por la estad\xedstica."],simplicidad:["Te han dicho que simplifiques, pero \xbfy si la complejidad es donde ocurre la magia?","Quiero entender.","Las capas que evitas podr\xedan contener las respuestas que buscas. Ve armando tu conocimiento a partir de ideas que ser\xe1s capaz de simplificar."],libertad:["Te han dicho que mantengas el control, pero \xbfy si no entiendes en qu\xe9 consiste el control y qu\xe9 par\xe1metros seguir?","Quiero aprender a liberarme.","Cumple tus sue\xf1os en armon\xeda con el bien com\xfan, reduciendo el sufrimiento ajeno. No puedes ser libre si buscas placer da\xf1ando a otros. Nuestro perfil psicol\xf3gico identificar\xe1 tus intereses y te guiar\xe1 hacia el mejor objetivo."]};class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}loadState(){{let e=localStorage.getItem(n.STORAGE_KEY);this.availableKeys=e?JSON.parse(e):Object.keys(this.hooks)}}saveState(){localStorage.setItem(n.STORAGE_KEY,JSON.stringify(this.availableKeys))}getRandomHook(){0===this.availableKeys.length&&(this.availableKeys=Object.keys(this.hooks));let e=Math.floor(Math.random()*this.availableKeys.length),a=this.availableKeys[e];return this.availableKeys.splice(e,1),this.saveState(),{key:a,hook:this.hooks[a][0],method:this.hooks[a][1],description:this.hooks[a][2]}}getRemainingCount(){return this.availableKeys.length}getTotalCount(){return Object.keys(this.hooks).length}constructor(){this.hooks=i,this.availableKeys=Object.keys(this.hooks),this.loadState()}}n.STORAGE_KEY="availableHooks";let c=n.getInstance();var l=t(6715),d=t(6540),u=t(6076),p=t(8051),m=t(3368),h=t.n(m),g=t(9386),b=t.n(g);class v{handleOptionSelect(e,a){try{this.error=null,this.isMultiple?this.handleMultipleSelect(e):this.handleSingleSelect(e),this.notifyAnswerSelected(a)}catch(e){e instanceof Error?this.error=e.message:this.error="An unknown error occurred"}}handleMultipleSelect(e){if(this.selectedAnswers=this.selectedAnswers.includes(e)?this.selectedAnswers.filter(a=>a!==e):[...this.selectedAnswers,e],0===this.selectedAnswers.length)throw Error("Please select at least one option")}handleSingleSelect(e){this.selectedAnswers=[e]}notifyAnswerSelected(e){let a=this.selectedAnswers.some(a=>this.isOtherOption(a,e));this.onAnswerSelected(this.isMultiple?this.selectedAnswers:this.selectedAnswers[0],a?this.otherText:void 0)}handleOtherInput(e,a){this.otherText=e,this.selectedAnswers.length>0&&this.notifyAnswerSelected(a)}isOtherOption(e,a){let t=a.find(a=>a.option_id===e);return(null==t?void 0:t.description_es.length)===4&&(null==t?void 0:t.description_es.toLowerCase().startsWith("otr"))}reset(){this.selectedAnswers=[],this.otherText="",this.error=null}getState(){return{selectedAnswers:this.selectedAnswers,otherText:this.otherText,error:this.error}}constructor(e,a=!1){this.onAnswerSelected=e,this.isMultiple=a,this.selectedAnswers=[],this.otherText="",this.error=null}}let y=e=>{let{hook:a,showDescription:t,setShowDescription:o,question:r,options:i,onAnswerSelected:n,currentPhase:c,progressPercentage:l,setAnswerSelected:u,isLoading:p=!1}=e,m=d.useMemo(()=>new v(n,"multiple"===r.type),[n,r.type]),[h,g]=(0,d.useState)(()=>m.getState());if((0,d.useEffect)(()=>{u(0!==h.selectedAnswers.length)},[h]),(0,d.useEffect)(()=>{m.reset(),g(m.getState())},[r.id]),p)return(0,s.jsx)("div",{className:b().questionFormLoading,children:(0,s.jsxs)("div",{className:b().content,children:[(0,s.jsxs)("div",{className:b().title,children:["La computaci\xf3n ",(0,s.jsx)("span",{className:b().highlight,children:"cu\xe1ntica"})," esto ",(0,s.jsx)("span",{className:b().highlight,children:"acelerar\xe1"})]}),(0,s.jsx)("div",{className:b().hookText,children:a.hook}),t?(0,s.jsx)("div",{className:b().description,children:a.description}):(0,s.jsx)("button",{className:b().revealButton,onClick:()=>o(!0),children:a.method})]})});let y="linear-gradient(to right, \n  var(--primary-color) ".concat(l,"%, \n  var(--third-color) ").concat(l,"%)"),q="linear-gradient(to right, \n    var(--text-primary-color) ".concat(l,"%, \n    var(--text-primary-color) ").concat(l,"%)"),_=e=>{p||(m.handleOptionSelect(e,i),g(m.getState()))},j=e=>{m.handleOtherInput(e.target.value,i),g(m.getState())},w="multiple"===r.type;return(0,s.jsxs)("div",{className:b().questionForm,children:[(0,s.jsx)("p",{className:b().title,children:r.description_es}),w&&(0,s.jsxs)("p",{className:b().multipleChoiceHint,style:{textAlign:"center",color:"var(--forth-color)",margin:"1rem"},children:["Opci\xf3n m\xfaltiple",(0,s.jsx)("br",{}),"Escoje en orden descendente"]}),(0,s.jsx)("div",{className:b().optionsContainer,children:null==i?void 0:i.map(e=>{let a=h.selectedAnswers.includes(e.option_id),t=h.selectedAnswers.length-h.selectedAnswers.indexOf(e.option_id),o=1;return"multiple"===r.type&&a&&(o=.6+f(i.length)[t]/2),(0,s.jsxs)("div",{className:b().option,children:[(0,s.jsx)("button",{className:"".concat(b().optionButton," ").concat(a?b().selected:""),onClick:()=>_(e.option_id),disabled:p,style:{filter:a?"brightness(".concat(o,")"):"none",background:y},children:(0,s.jsx)("span",{className:b().optionText,style:{background:q,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:e.description_es})}),"bfi"!==c&&a&&m.isOtherOption(e.option_id,i)&&(0,s.jsx)("input",{type:"text",className:b().otherInput,placeholder:"Por favor especifica",value:h.otherText,onChange:j,disabled:p,required:!0})]},e.option_id)})}),h.error&&(0,s.jsx)("div",{className:b().errorMessage,children:h.error})]})},f=e=>{let a=[1,1];for(let t=2;t<e;t++)a[t]=a[t-1]+a[t-2];let t=Math.max(...a);return a.map(e=>e/t)};var q=t(5571);let _=e=>{let{phase:a,service:t,loadingMessage:i,notInitializedMessage:n,title:m}=e,g=(0,l.useRouter)(),{setResponses:v,setProgress:f,progress:_,userProfile:j,currentPhase:w}=(0,o.J)(),[A,x]=(0,d.useState)(!1),[S,E]=(0,d.useState)(!1),[z,N]=(0,d.useState)(c.getRandomHook()),[C,T]=(0,d.useState)(()=>{let e=new r({initialState:{currentPhase:a,currentQuestion:null,currentOptions:null,isLoading:!0,currentProgress:0,error:null,isInitialized:!1,selectedAnswer:null,otherText:void 0},onProgressUpdate:()=>{f()},onAnswerSubmitted:(e,a)=>{v(e,a)}});return{controller:e,state:e.getState()}}),O=async()=>{if(g.isReady&&"string"==typeof(null==j?void 0:j.id))try{await C.controller.initializeQuestions(j.id,()=>t.getInitialQuestionWithOptions(_,w,j.id)),T(e=>({...e,state:e.controller.getState()}))}catch(e){}};(0,d.useEffect)(()=>{O()},[g.isReady,null==j?void 0:j.id]);let I=(0,d.useCallback)((e,a)=>{C.controller.handleAnswerSelection(e,a),T(e=>({...e,state:e.controller.getState()}))},[C.controller]),Q=(0,d.useCallback)(async()=>{if(null==j?void 0:j.id){N(c.getRandomHook()),E(!1);try{if(await C.controller.submitAnswer(j.id,t.submitAnswer.bind(t),_,a,t.submitOtherAnswer?t.submitOtherAnswer.bind(t):void 0),T(e=>({...e,state:C.controller.getState()})),_.get(a)>100||a!==w)return;await C.controller.nextQuestionWithOptions(j.id,C.state,t.getQuestionWithOptions.bind(t)),T(e=>({...e,state:C.controller.getState()}))}catch(e){}}},[null==j?void 0:j.id,C.state]);if(!C.state||!g.isReady)return(0,s.jsx)(u.G,{message:i});if(C.state.error)return(0,s.jsx)(p.n,{message:C.state.error});if(!C.state.currentQuestion||!C.state.currentOptions)return(0,s.jsx)(u.G,{message:n});let k=!A||C.state.isLoading||null===C.state.selectedAnswer||void 0!==C.state.otherText&&""===C.state.otherText.trim();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h(),{children:(0,s.jsx)("title",{children:m})}),(0,s.jsxs)("div",{className:b().content,children:[(0,s.jsx)(y,{hook:z,showDescription:S,setShowDescription:E,question:C.state.currentQuestion,options:C.state.currentOptions,onAnswerSelected:I,currentPhase:a,progressPercentage:(_.get(a)||q.Ce[a])+2*q.Ce[a],setAnswerSelected:x,isLoading:C.state.isLoading}),C.controller.getState().isLoading?(0,s.jsx)("div",{className:b().loading}):(0,s.jsx)("button",{className:b().submitButton,onClick:Q,disabled:k,children:"Contestar"})]})]})}},8291:(e,a,t)=>{"use strict";t.d(a,{n:()=>o});var s=t(9);class o{static async get(e,a){try{return(await s.A.get(e,{params:a})).data}catch(e){throw this.handleError(e),e}}static async post(e,a){try{return(await s.A.post(e,a)).data}catch(e){throw this.handleError(e),e}}static handleError(e){e.response?e.response.status:e.request}static async withRetry(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;for(let o=0;o<t;o++)try{return await e()}catch(e){if(a=e,o===t-1)break;await new Promise(e=>setTimeout(e,s))}throw a}}},8998:(e,a,t)=>{"use strict";t.d(a,{bk:()=>l,ht:()=>c,pq:()=>n});var s=t(8291),o=t(5571);class r{static getInstance(){let e=this.name;return r.instances.has(e)||r.instances.set(e,new this),r.instances.get(e)}constructor(){this.baseUrl="https://api.aleph-space.org/"}}r.instances=new Map;class i extends r{get initialQuestionEndpoint(){return"questions/".concat(this.type,"/initial")}get questionWithIdEndpoint(){return"questions/".concat(this.type,"/questionId/{questionId}/")}get submitAnswerEndpoint(){return"responses/".concat(this.type)}get submitOtherAnswerEndpoint(){return this.hasOtherAnswer?"responses/".concat(this.type,"/other"):null}async getInitialQuestionWithOptions(e,a,t){let r=o.Ce[a],i=e.get(a)||r,n="PROFILE"===a;if(i===r)return await s.n.withRetry(()=>s.n.get("".concat(this.baseUrl,"questions/").concat(this.type,"/initial")),11,3e3);let c=i/r;return this.getQuestionWithOptions(t,n?c+4:c)}async getQuestionWithOptions(e,a){return await s.n.withRetry(()=>s.n.get("".concat(this.baseUrl+this.questionWithIdEndpoint.replace("{questionId}",a.toString())),{profileId:e}))}async submitAnswer(e,a,t){return await s.n.withRetry(()=>s.n.post("".concat(this.baseUrl+this.submitAnswerEndpoint),{profileId:e,variable:a,answer:t}))}async submitOtherAnswer(e,a,t){if(this.submitOtherAnswerEndpoint)return await s.n.withRetry(()=>s.n.post("".concat(this.baseUrl+this.submitOtherAnswerEndpoint),{profileId:e,variable:a,answer:t}));throw Error("submitOtherAnswer not supported")}constructor(e,a=!1){super(),this.type=e,this.hasOtherAnswer=a}}class n extends i{async login(e,a){return await s.n.withRetry(()=>s.n.post("".concat(this.baseUrl,"auth/login"),{email:e,password:a}))}async createProfile(e){return await s.n.withRetry(()=>s.n.post("".concat(this.baseUrl,"profile/create"),e))}constructor(){super("profile",!0)}}class c extends i{constructor(){super("bfi")}}class l extends i{constructor(){super("product",!0)}}},9:(e,a,t)=>{"use strict";t.d(a,{A:()=>n,I:()=>i});var s=t(4335);s.A.defaults.withCredentials=!0;let o=s.A.create({baseURL:"https://api.aleph-space.org/",withCredentials:!0,timeout:1e5,headers:{"Content-Type":"application/json"}}),r="",i=e=>{r=e};o.interceptors.request.use(e=>(r&&(e.headers=e.headers||{},e.headers["x-csrf-token"]=r),e));let n=o},9386:e=>{e.exports={content:"components_content__9LGlv",questionForm:"components_questionForm__9G6IB",questionFormLoading:"components_questionFormLoading__XARpu",loadingLine:"components_loadingLine__CBCpC",optionsContainer:"components_optionsContainer__n1U4o",option:"components_option__sY010",optionButton:"components_optionButton__93cMO",selected:"components_selected__AYwQi",optionText:"components_optionText__u1Bbr",otherInput:"components_otherInput__0EBso",errorMessage:"components_errorMessage__P8xvK",phaseNavigation:"components_phaseNavigation__CtVI7",navButton:"components_navButton__SWFSX",errorDisplay:"components_errorDisplay__kclbq",retryButton:"components_retryButton__o_lg6",loading:"components_loading__lbjof",spin:"components_spin__4JEYr",title:"components_title__O3oFV",highlight:"components_highlight__H7Mi_",hookText:"components_hookText__qcR_E",revealButton:"components_revealButton__MPG0z",description:"components_description__ZIDxU",fadeIn:"components_fadeIn__TYX9_",submitButton:"components_submitButton__Wz1t_",loginContainer:"components_loginContainer__8rYtO",formGroup:"components_formGroup__lX94X"}}}]);